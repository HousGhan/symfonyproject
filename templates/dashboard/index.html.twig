{% extends 'base.html.twig' %}

{% block title %}Dashboard
{% endblock %}

{% block body %}
	<h1 class="text-center">Dashboard</h1>
	<div class="row justify-content-center text-center  text-center text-white fw-medium">
		<div class="col-lg-6">
			<div class="border p-4 rounded-4 dark-blue">
				<h3>Total Revenue</h3>
				<h2 class="text-success">{{totalRevenue}}
					DHS</h2>
			</div>
		</div>
	</div>
	<div class="kpis row  my-2 gy-4 gy-lg-0 text-center text-white fw-medium">
		<div class="col-lg col-12">
			<div class="border p-4 rounded-4 dark-blue">Total
				<br>
				Patients
				<h4 class="text-success">{{totalPatients}}</h4>
			</div>
		</div>
		<div class="col-lg col-12">
			<div class="border p-4 rounded-4 dark-blue">Todays
				<br>
				Appointements
				<h4 class="text-success">{{todaysAppointements}}</h4>
			</div>
		</div>
		<div class="col-lg col-12">
			<div class="border p-4 rounded-4 dark-blue">Total
				<br>
				Appointements
				<h4 class="text-success">{{totalAppointements}}</h4>
			</div>
		</div>
	</div>

	<canvas id="appointmentsChart"></canvas>
	<div class="my-5"></div>
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


	<script>
		const ctx = document.getElementById('appointmentsChart').getContext('2d');

const chart = new Chart(ctx, {
type: 'line',
data: {
labels: {{ labels|json_encode|raw }},
datasets: [
{
label: 'Monthly Revenue',
data: {{ data|json_encode|raw }},
borderColor: 'rgba(75, 192, 192, 1)',
backgroundColor: 'rgba(75, 192, 192, 0.2)',
fill: true,
tension: 0.3
}
]
},
options: {
responsive: true,
scales: {
y: {
beginAtZero: true
}
}
}
});
	</script>

{% endblock %}
